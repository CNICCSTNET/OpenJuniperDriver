<configuration xmlns="http://xml.juniper.net/xnm/1.1/xnm" junos:commit-seconds="1478862739" junos:commit-localtime="2016-11-11 19:12:19 CST" junos:commit-user="root">
    <version>15.1F2.8</version>
    <system>
        <host-name>cstnet-M10i-2</host-name>
        <domain-name>my.SDN.net</domain-name>
        <time-zone>Asia/Shanghai</time-zone>
        <authentication-order>tacplus</authentication-order>
        <authentication-order>password</authentication-order>
        <root-authentication>
            <encrypted-password>$1$j83t1g.c$leDgZ3AkM30Sj3XqoNrWe1</encrypted-password>
        </root-authentication>
        <scripts>
            <op>
                <traceoptions>
                    <file>
                        <filename>op-script-log</filename>
                        <size>3m</size>
                        <files>3</files>
                    </file>
                    <flag>
                        <name>events</name>
                    </flag>
                    <flag>
                        <name>output</name>
                    </flag>
                    <flag>
                        <name>rpc</name>
                    </flag>
                </traceoptions>
                <file>
                    <name>add-static.slax</name>
                </file>
                <file>
                    <name>delete-static.slax</name>
                </file>
            </op>
        </scripts>
        <login>
            <retry-options>
                <tries-before-disconnect>3</tries-before-disconnect>
            </retry-options>
            <user>
                <name>dengxin</name>
                <full-name>deng xin cstnet</full-name>
                <uid>2011</uid>
                <class>super-user</class>
                <authentication>
                    <encrypted-password>$1$otkekcYX$86RZwkre8AwQDG08G.jqz0</encrypted-password>
                </authentication>
            </user>
            <user>
                <name>lihong</name>
                <uid>2003</uid>
                <class>super-user</class>
                <authentication>
                    <encrypted-password>$1$8nk1yfcj$PNncq2UiYOCQVLDv2tI2f/</encrypted-password>
                </authentication>
            </user>
            <user>
                <name>ljj</name>
                <uid>2006</uid>
                <class>super-user</class>
                <authentication>
                    <encrypted-password>$1$y.yp4c1w$wcPcbDcz771edMmeECF8P.</encrypted-password>
                </authentication>
            </user>
            <user>
                <name>local</name>
                <uid>2000</uid>
                <class>super-user</class>
                <authentication>
                    <encrypted-password>$1$B0QB1B3T$oiZVfKNltUlAO6SYrqqII0</encrypted-password>
                </authentication>
            </user>
            <user>
                <name>qiuxinyi</name>
                <uid>2008</uid>
                <class>superuser</class>
                <authentication>
                    <encrypted-password>$1$TETRkChc$x39qn3z3sJGyx2K4HtEK50</encrypted-password>
                </authentication>
            </user>
            <user>
                <name>zhoujianer</name>
                <uid>2007</uid>
                <class>super-user</class>
                <authentication>
                    <encrypted-password>$1$R6Rxjo.Q$JrxkGxRChMb0rPaqZXVwo/</encrypted-password>
                </authentication>
            </user>
            <user>
                <name>zhoujianhu</name>
                <uid>2002</uid>
                <class>super-user</class>
                <authentication>
                    <encrypted-password>$1$wvd3yn9c$xl7arvNCiMNWcFZBz50gL0</encrypted-password>
                </authentication>
            </user>
        </login>
        <services>
            <ftp>
            </ftp>
            <ssh>
            </ssh>
            <telnet>
            </telnet>
            <netconf>
                <ssh>
                </ssh>
            </netconf>
        </services>
        <syslog>
            <user>
                <name>*</name>
                <contents>
                    <name>any</name>
                    <emergency/>
                </contents>
            </user>
            <host>
                <name>192.168.1.2</name>
                <contents>
                    <name>any</name>
                    <notice/>
                </contents>
                <match>!(unexpected EOF from server)|(User smoke logged)|(User autoftp logged)</match>
                <explicit-priority/>
            </host>
            <file>
                <name>messages</name>
                <contents>
                    <name>any</name>
                    <any/>
                </contents>
                <match>PING_TEST_FAILED</match>
            </file>
            <file>
                <name>interactive-commands</name>
                <contents>
                    <name>interactive-commands</name>
                    <any/>
                </contents>
            </file>
            <file>
                <name>messages_firewall_any</name>
                <contents>
                    <name>firewall</name>
                    <any/>
                </contents>
            </file>
        </syslog>
        <commit>
            <synchronize/>
        </commit>
        <ntp>
            <server>
                <name>159.226.8.200</name>
            </server>
            <server>
                <name>159.226.8.201</name>
            </server>
            <source-address>159.226.0.138</source-address>
        </ntp>
    </system>
    <logical-systems>
        <name>vr1</name>
        <interfaces>
            <interface>
                <name>lt-0/0/0</name>
                <unit>
                    <name>192</name>
                    <encapsulation>ethernet</encapsulation>
                    <peer-unit>199</peer-unit>
                    <family>
                        <inet>
                            <address>
                                <name>159.226.254.213/30</name>
                            </address>
                        </inet>
                    </family>
                </unit>
            </interface>
        </interfaces>
    </logical-systems>
    <chassis>
        <redundancy>
            <failover>
                <on-loss-of-keepalives/>
                <on-disk-failure/>
            </failover>
            <graceful-switchover>
            </graceful-switchover>
        </redundancy>
        <routing-engine>
            <on-disk-failure>
                <undocumented><reboot/></undocumented>
            </on-disk-failure>
        </routing-engine>
        <aggregated-devices>
            <ethernet>
                <device-count>2</device-count>
            </ethernet>
        </aggregated-devices>
        <fpc>
            <name>0</name>
            <pic>
                <name>0</name>
                <tunnel-services>
                </tunnel-services>
            </pic>
            <pic>
                <name>1</name>
                <tunnel-services>
                </tunnel-services>
            </pic>
            <pic>
                <name>3</name>
                <framing>sdh</framing>
            </pic>
        </fpc>
        <fpc>
            <name>1</name>
            <pic>
                <name>0</name>
                <framing>sdh</framing>
            </pic>
        </fpc>
        <alarm>
            <management-ethernet>
                <link-down>yellow</link-down>
            </management-ethernet>
        </alarm>
    </chassis>
    <interfaces>
        <interface>
            <name>fe-0/0/0</name>
            <mtu>9192</mtu>
            <unit>
                <name>0</name>
                <family>
                    <inet>
                        <address>
                            <name>192.168.14.226/24</name>
                        </address>
                        <address>
                            <name>192.168.1.138/30</name>
                        </address>
                    </inet>
                    <mpls>
                        <mtu>1520</mtu>
                    </mpls>
                </family>
            </unit>
        </interface>
        <interface>
            <name>fe-0/0/1</name>
            <unit>
                <name>0</name>
                <family>
                    <inet>
                        <filter>
                            <input>
                                <filter-name>netflow</filter-name>
                            </input>
                        </filter>
                        <address>
                            <name>192.168.200.2/24</name>
                        </address>
                    </inet>
                </family>
            </unit>
        </interface>
        <interface>
            <name>fxp0</name>
            <unit>
                <name>0</name>
                <family>
                    <inet>
                        <address>
                            <name>159.226.101.32/25</name>
                        </address>
                    </inet>
                </family>
            </unit>
        </interface>
        <interface>
            <name>gre</name>
            <unit>
                <name>100</name>
                <tunnel>
                    <source>192.168.14.226</source>
                    <destination>192.168.14.227</destination>
                </tunnel>
                <family>
                    <inet>
                        <address>
                            <name>192.168.100.2/24</name>
                        </address>
                    </inet>
                </family>
            </unit>
        </interface>
        <interface>
            <name>irb</name>
            <unit>
                <name>300</name>
                <family>
                    <inet>
                        <address>
                            <name>1.1.1.1/24</name>
                        </address>
                    </inet>
                </family>
            </unit>
        </interface>
        <interface>
            <name>lo0</name>
            <unit>
                <name>0</name>
                <family>
                    <inet>
                        <address>
                            <name>192.168.6.6/32</name>
                        </address>
                    </inet>
                </family>
            </unit>
        </interface>
    </interfaces>
    <snmp>
        <community>
            <name>cst*net</name>
            <authorization>read-only</authorization>
            <clients>
                <name>159.226.0.0/16</name>
            </clients>
        </community>
    </snmp>
    <forwarding-options>
        <sampling>
            <input>
                <rate>100</rate>
                <run-length>0</run-length>
            </input>
            <family>
                <inet>
                    <output>
                        <flow-inactive-timeout>15</flow-inactive-timeout>
                        <flow-active-timeout>60</flow-active-timeout>
                        <flow-server>
                            <name>159.226.101.13</name>
                            <port>25001</port>
                            <source-address>159.226.101.32</source-address>
                            <version>5</version>
                        </flow-server>
                    </output>
                </inet>
            </family>
        </sampling>
    </forwarding-options>
    <routing-options>
        <rib>
            <name>inetflow.0</name>
            <maximum-prefixes>
                <limit>100</limit>
            </maximum-prefixes>
        </rib>
        <static>
            <route>
                <name>159.226.12.0/24</name>
                <next-hop>192.168.1.34</next-hop>
                <qualified-next-hop>
                    <name>192.168.1.10</name>
                    <preference>100</preference>
                </qualified-next-hop>
            </route>
            <route>
                <name>159.226.14.0/24</name>
                <next-hop>159.226.254.242</next-hop>
                <next-hop>159.226.254.238</next-hop>
            </route>
            <route>
                <name>159.226.27.0/24</name>
                <next-hop>159.226.254.242</next-hop>
                <next-hop>159.226.254.238</next-hop>
            </route>
            <route>
                <name>159.226.251.0/25</name>
                <next-hop>159.226.254.242</next-hop>
                <next-hop>159.226.254.238</next-hop>
            </route>
            <route>
                <name>159.226.251.0/27</name>
                <next-hop>159.226.254.242</next-hop>
                <next-hop>159.226.254.238</next-hop>
            </route>
            <route>
                <name>159.226.16.0/24</name>
                <next-hop>192.168.1.138</next-hop>
                <next-hop>192.168.1.137</next-hop>
            </route>
        </static>
        <router-id>159.226.8.199</router-id>
        <autonomous-system>
            <as-number>789</as-number>
        </autonomous-system>
    </routing-options>
    <protocols>
        <bgp>
            <group>
                <name>ibgp</name>
                <family>
                    <inet>
                        <unicast>
                        </unicast>
                        <flow>
                            <prefix-limit>
                                <maximum>500</maximum>
                            </prefix-limit>
                            <no-validate>FlowSpec_NoValidate</no-validate>
                        </flow>
                    </inet>
                </family>
                <peer-as>789</peer-as>
                <neighbor>
                    <name>192.168.14.31</name>
                </neighbor>
            </group>
            <group>
                <name>arbor</name>
                <family>
                    <inet>
                        <unicast>
                        </unicast>
                        <flow>
                            <no-validate>FlowSpec_NoValidate</no-validate>
                        </flow>
                    </inet>
                </family>
                <peer-as>789</peer-as>
                <neighbor>
                    <name>159.226.101.13</name>
                </neighbor>
            </group>
            <group>
                <name>sdn-test-bgp</name>
                <family>
                    <inet>
                        <unicast>
                        </unicast>
                        <flow>
                            <prefix-limit>
                                <maximum>500</maximum>
                            </prefix-limit>
                            <no-validate>FlowSpec_NoValidate</no-validate>
                        </flow>
                    </inet>
                </family>
                <peer-as>789</peer-as>
                <neighbor>
                    <name>192.168.40.40</name>
                </neighbor>
            </group>
        </bgp>
        <ospf>
            <traceoptions>
                <file>
                    <filename>ospf-log.log</filename>
                    <size>2m</size>
                </file>
                <flag>
                    <name>all</name>
                </flag>
            </traceoptions>
            <export>send-statics</export>
            <area>
                <name>0.0.0.0</name>
                <interface>
                    <name>lo0.0</name>
                </interface>
                <interface>
                    <name>gre.100</name>
                </interface>
            </area>
        </ospf>
    </protocols>
    <policy-options>
        <prefix-list>
            <name>dengxin</name>
            <apply-path>interfaces &lt;*&gt; unit &lt;*&gt; family inet address &lt;*&gt;</apply-path>
        </prefix-list>
        <prefix-list>
            <name>cstnet</name>
            <apply-path>protocols bgp group &lt;*&gt; neighbor &lt;(!2400)*&gt;</apply-path>
        </prefix-list>
        <prefix-list>
            <name>cstnet001</name>
            <apply-path>protocols bgp group &lt;*&gt; neighbor &lt;*&gt;</apply-path>
        </prefix-list>
        <prefix-list>
            <name>KM-prefix-list</name>
            <prefix-list-item>
                <name>124.17.95.0/24</name>
            </prefix-list-item>
            <prefix-list-item>
                <name>159.226.8.160/32</name>
            </prefix-list-item>
            <prefix-list-item>
                <name>159.226.8.161/32</name>
            </prefix-list-item>
            <prefix-list-item>
                <name>159.226.8.162/32</name>
            </prefix-list-item>
            <prefix-list-item>
                <name>159.226.69.0/24</name>
            </prefix-list-item>
            <prefix-list-item>
                <name>159.226.148.0/23</name>
            </prefix-list-item>
            <prefix-list-item>
                <name>159.226.249.0/24</name>
            </prefix-list-item>
            <prefix-list-item>
                <name>159.226.255.144/28</name>
            </prefix-list-item>
            <prefix-list-item>
                <name>210.72.88.0/23</name>
            </prefix-list-item>
            <prefix-list-item>
                <name>210.72.92.0/23</name>
            </prefix-list-item>
            <prefix-list-item>
                <name>210.72.94.0/26</name>
            </prefix-list-item>
            <prefix-list-item>
                <name>210.72.95.128/25</name>
            </prefix-list-item>
        </prefix-list>
        <prefix-list>
            <name>PREFIX-LIST-1</name>
            <prefix-list-item>
                <name>159.226.101.80/32</name>
            </prefix-list-item>
        </prefix-list>
        <policy-statement>
            <name>FlowSpec_NoValidate</name>
            <term>
                <name>default</name>
                <then>
                    <accept/>
                </then>
            </term>
        </policy-statement>
        <policy-statement>
            <name>addresses-to-reject</name>
            <term>
                <name>1</name>
                <from>
                    <prefix-list>
                        <name>PREFIX-LIST-1</name>
                    </prefix-list>
                </from>
            </term>
        </policy-statement>
        <policy-statement>
            <name>adv-user</name>
            <from>
                <junos:comment>/* -------- Chang Cheng Gong Si -------- */</junos:comment>
                <route-filter>
                    <address>124.17.13.0/24</address>
                    <exact/>
                </route-filter>
                <route-filter>
                    <address>124.17.12.0/29</address>
                    <exact/>
                </route-filter>
                <route-filter>
                    <address>124.17.15.168/29</address>
                    <exact/>
                </route-filter>
                <route-filter>
                    <address>124.17.15.176/29</address>
                    <exact/>
                </route-filter>
            </from>
        </policy-statement>
        <policy-statement>
            <name>adv-user-routes</name>
            <from>
                <route-filter>
                    <address>159.226.14.0/24</address>
                    <exact/>
                </route-filter>
                <route-filter>
                    <address>159.226.27.0/24</address>
                    <exact/>
                </route-filter>
                <route-filter>
                    <address>159.226.251.0/25</address>
                    <exact/>
                </route-filter>
                <route-filter>
                    <address>159.226.251.0/27</address>
                    <exact/>
                </route-filter>
            </from>
        </policy-statement>
        <policy-statement>
            <name>next-hop-self</name>
            <from>
                <protocol>bgp</protocol>
            </from>
            <then>
                <next-hop>
                    <self/>
                </next-hop>
                <accept/>
            </then>
        </policy-statement>
        <policy-statement>
            <name>send-statics</name>
            <term>
                <name>1</name>
                <from>
                    <protocol>static</protocol>
                </from>
                <then>
                    <accept/>
                </then>
            </term>
            <term>
                <name>2</name>
                <from>
                    <protocol>static</protocol>
                </from>
            </term>
        </policy-statement>
        <community>
            <name>redirect</name>
            <members>redirect:789:100</members>
        </community>
    </policy-options>
    <firewall>
        <family>
            <inet>
                <filter>
                    <name>incoming-to-me</name>
                    <term>
                        <name>restrict-telnet-ssh</name>
                        <from>
                            <source-address>
                                <name>159.226.101.80/32</name>
                            </source-address>
                            <protocol>tcp</protocol>
                            <destination-port>ssh</destination-port>
                        </from>
                        <then>
                            <reject>
                            </reject>
                        </then>
                    </term>
                    <term>
                        <name>limit</name>
                        <then>
                            <policer>limit-rate</policer>
                        </then>
                    </term>
                    <term>
                        <name>final-accept</name>
                        <then>
                            <accept/>
                        </then>
                    </term>
                </filter>
                <filter>
                    <name>netflow</name>
                    <term>
                        <name>testNetconf</name>
                        <then>
                            <accept/>
                        </then>
                    </term>
                    <term>
                        <name>default</name>
                        <then>
                            <sample/>
                            <accept/>
                        </then>
                    </term>
                </filter>
            </inet>
        </family>
        <policer>
            <name>limit-rate</name>
            <if-exceeding>
                <bandwidth-limit>1m</bandwidth-limit>
                <burst-size-limit>50k</burst-size-limit>
            </if-exceeding>
            <then>
                <discard/>
            </then>
        </policer>
        <policer>
            <name>myTestZhou</name>
            <if-exceeding>
                <bandwidth-limit>50m</bandwidth-limit>
                <burst-size-limit>9k</burst-size-limit>
            </if-exceeding>
            <then>
                <discard/>
            </then>
        </policer>
        <filter>
            <name>myTestZhou</name>
            <term>
                <name>myTestZhou</name>
                <from>
                    <source-address>
                        <name>159.226.101.65/32</name>
                    </source-address>
                </from>
                <then>
                    <policer>myTestZhou</policer>
                </then>
            </term>
        </filter>
    </firewall>
</configuration>
